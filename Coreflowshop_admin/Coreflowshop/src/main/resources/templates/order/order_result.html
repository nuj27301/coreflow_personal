<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<head>
  <th:block layout:fragment="css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
      body {
        font-family: 'Segoe UI', sans-serif;
        background-color: #f8f9fa;
        color: #333;
        padding: 30px 0;
      }

      h2, h3 {
        font-weight: bold;
      }
      
      .fw-bold {
        font-size: 35px;
      }
      
      /* 테이블 스타일 */
      table {
        background: #fff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 0.5rem 1.5rem rgba(0,0,0,0.05);
      }

      th, td {
        vertical-align: middle !important;
        text-align: center;
      }

      thead th {
        background-color: #000;
        color: #fff;
        font-weight: 600;
      }

      tbody td {
        border-bottom: 1px solid #dee2e6;
      }

      tfoot td {
        font-weight: 700;
        border-top: 2px solid #000;
        background-color: #f1f1f1;
      }

      img {
        border-radius: 8px;
        object-fit: cover;
      }
      
      /* 버튼 스타일 */
      .btn-primary, .btn-info {
        background: #000;
        border: none;
        color: #fff;
        padding: 10px 20px;
        border-radius: 12px;
        font-weight: bold;
        transition: background 0.3s;
      }
      .btn-primary:hover, .btn-info:hover {
        background: #333;
      }

      .btn-outline-primary {
        border: 2px solid #000;
        color: #000;
        background-color: transparent;
        border-radius: 12px;
        font-weight: 600;
        padding: 10px 20px;
        transition: all 0.3s;
      }
      .btn-outline-primary:hover {
        background: #000;
        color: #fff;
      }
      
    </style>
  </th:block>
</head>

<th:block layout:fragment="content">
  <div class="row">
    <div class="col text-center mb-4 mt-3">
      <h3>아래와 같이 주문내역이 접수되었습니다.</h3>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <table class="table">
        <thead>
          <tr>
            <th style="width:5%;">주문번호</th>
            <th style="width:25%;">상품이미지</th>
            <th style="width:15%;">상품이름</th>
            <th style="width:10%;">가격</th>
            <th style="width:5%;">수량</th>
            <th style="width:10%;">합계</th>
            <th style="width:15%;">주문상태</th>
            <th style="width:15%;">배송상태</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="item : ${order_result}">
            <td th:text="${item.ord_code}"></td>
            <td>
              <img style="width:100px;height:100px;" th:src="${'/order/image_display?dateFolderName=' + item.pro_up_folder + '&fileName=s_' + item.pro_img}">
            </td>
            <td th:text="${item.pro_name}"></td>
            <td th:text="${#numbers.formatInteger(item.oi_price,3,'COMMA') + '원'}"></td>
            <td th:text="${item.oi_quantity}"></td>
            <td th:text="${#numbers.formatInteger(item.oi_price * item.oi_quantity,3,'COMMA') + '원'}"></td>
            <td th:text="${item.payment_status}"></td>
            <td>준비중</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="8" style="text-align:center;" th:text="'총금액: ' + ${#numbers.formatInteger(order_total_price,3,'COMMA') + '원'}"></td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <div class="d-flex gap-2 mt-4 justify-content-center">
    <a href="/order/list" class="btn btn-outline-primary d-flex align-items-center justify-content-center" style="width:150px;">
      주문내역
    </a>
    <a href="/" class="btn btn-primary d-flex align-items-center justify-content-center" style="width:150px;">
      메인
    </a>
  </div>
</th:block>
</html>