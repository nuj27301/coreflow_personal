<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layouts/ad_layout}">

	<th:block layout:fragment="script1">
	
	<script>
			// 날짜 설정 함수
			function setDateRange(range) {
				// 공통적인 코드
				const today = new Date();  // 날짜객체.
				const startInput = document.getElementById('start_date'); // 시작날짜 태그를 참조
				const endInput = document.getElementById('end_date'); // 종료날짜 태그를 참조
				
				let startDate, endDate;
	
				switch (range) {
					case 'today':
						startDate = new Date(today); // 시작날짜(현재날짜)
						endDate = new Date(today);  // 종료날짜(현재날짜)
						break;
					case '3days':
						startDate = new Date(today);  
						startDate.setDate(today.getDate() - 2); // 시작날짜(현재날짜 -2일)
						endDate = new Date(today);  // 종료날짜(현재날짜)
						break;
					case 'week':
						startDate = new Date(today);
						startDate.setDate(today.getDate() - 6); // 시작날짜(현재날짜 - 6일)
						endDate = new Date(today);  // 종료날짜(현재날짜)
						break;
					case 'month':
						startDate = new Date(today);
						startDate.setMonth(today.getMonth() - 1);  // 시작날짜(현재날짜 - 1개월)
						endDate = new Date(today);  // 종료날짜(현재날짜)
						break;
					case '3months':
						startDate = new Date(today);
						startDate.setMonth(today.getMonth() - 3); // 시작날짜(현재날짜 - 3개월)
						endDate = new Date(today); // 종료날짜(현재날짜)
						break;
					case 'all':  // 기간이 없는 의미
						startDate = ''; //  시작날짜 없음.
						endDate = ''; // 종료날짜 없음
						break;
					default:
						return;
				}
	
				// 포맷팅하여 input에 값 설정
				startInput.value = startDate ? formatDate(startDate) : '';
				endInput.value = endDate ? formatDate(endDate) : '';
			}
	
			// 날짜를 yyyy-MM-dd 형식으로 포맷
			function formatDate(date) {
				const year = date.getFullYear();  // 년도
				const month = String(date.getMonth() + 1).padStart(2, '0'); // 월
				const day = String(date.getDate()).padStart(2, '0');
				return `${year}-${month}-${day}`;  //  날짜형식 2025-09-15
			}
			//초기화함수.
			function initializeSearchForm() {
				// Get form elements by their IDs or names..  document.querySelector("css선택자문법")
				
				// 태그를 1개참조
				const searchType = document.querySelector('select[name="searchType"]');
				const keyword = document.querySelector('input[name="keyword"]');
				const period = document.querySelector('select[name="period"]');
				const startDate = document.getElementById('start_date');
				const endDate = document.getElementById('end_date');

				// 태그를 여러개 참조
				// 결제방법 라디오버튼5개 참조 -  전체 무통장 계좌이체 신용카드 카카오페이
				const paymentMethodRadios = document.querySelectorAll('input[name="payment_method"]');
				// 주문상태 라디오버튼 10개참조 - 입금대기, 입금완료, 배송준비, 배송중, 배송완료
				const orderStatusRadios = document.querySelectorAll('input[name="ord_status"]');

				// Reset dropdowns to the default options
				if (searchType) searchType.value = ''; // Default to "검색종류 선택"
				if (period) period.value = 'ord_regdate'; // Default to "주문일"

				// Clear text input fields
				if (keyword) keyword.value = '';
				if (startDate) startDate.value = '';
				if (endDate) endDate.value = '';

				// Reset radio buttons to default (first radio button is checked)
				if (paymentMethodRadios.length > 0) {
					paymentMethodRadios.forEach((radio, index) => {
						// 첫번째 라디오버튼이 전체 선택만 checked상태를 true  처리, 나머지 버튼은 false상태로 처리
						radio.checked = index === 0;
					});
				}

				if (orderStatusRadios.length > 0) {
					orderStatusRadios.forEach((radio, index) => {
						radio.checked = index === 0;
					});
				}

				console.log('Search form initialized.');
			}

			
		</script>
	
	
	</th:block>
	
	
	<th:block layout:fragment="style1">
	
	<style>
		/* 카드 스타일 */
		.card-primary {
			border: none !important;
			border-radius: 16px !important;
			box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04) !important;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
			background: linear-gradient(135deg, #fdfbfb 0%, #f6f9fc 100%) !important;
			overflow: hidden !important;
			position: relative !important;
			animation: fadeInUp 0.5s ease !important;
		}
		
		.card-primary::before {
			content: '' !important;
			position: absolute !important;
			top: 0 !important;
			left: 0 !important;
			right: 0 !important;
			height: 4px !important;
			background: linear-gradient(90deg, #667eea 0%, #764ba2 100%) !important;
		}
		
		.card-header {
			background: transparent !important;
			border-bottom: 2px solid rgba(102, 126, 234, 0.15) !important;
			padding: 24px 20px !important;
		}
		
		.card-title {
			font-size: 20px !important;
			font-weight: 600 !important;
			color: #2d3748 !important;
			margin: 0 !important;
		}
		
		.card-body {
			padding: 24px !important;
			background: transparent !important;
		}
		
		/* 검색 폼 스타일 */
		.form-control, select.form-control {
			border: 1px solid rgba(102, 126, 234, 0.2) !important;
			border-radius: 8px !important;
			padding: 10px 14px !important;
			font-size: 14px !important;
			transition: all 0.3s ease !important;
			background: #ffffff !important;
		}
		
		.form-control:focus, select.form-control:focus {
			border-color: #667eea !important;
			box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
			outline: none !important;
		}
		
		input[type="date"] {
			border: 1px solid rgba(102, 126, 234, 0.2) !important;
			border-radius: 8px !important;
			padding: 8px 12px !important;
			font-size: 14px !important;
			transition: all 0.3s ease !important;
		}
		
		input[type="date"]:focus {
			border-color: #667eea !important;
			box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1) !important;
			outline: none !important;
		}
		
		/* 라디오 버튼 스타일 */
		.form-check-input {
			accent-color: #667eea !important;
			cursor: pointer !important;
		}
		
		.form-check-label {
			font-size: 14px !important;
			color: #4a5568 !important;
			cursor: pointer !important;
			margin-left: 4px !important;
		}
		
		.form-check-inline {
			margin-right: 16px !important;
		}
		
		/* 버튼 스타일 */
		.btn {
			border-radius: 8px !important;
			padding: 8px 16px !important;
			font-weight: 500 !important;
			transition: all 0.3s ease !important;
			border: none !important;
		}
		
		.btn-primary {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
			color: #ffffff !important;
			box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3) !important;
		}
		
		.btn-primary:hover {
			transform: translateY(-2px) !important;
			box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4) !important;
		}
		
		.btn-outline-primary {
			border: 2px solid #667eea !important;
			color: #667eea !important;
			background: transparent !important;
		}
		
		.btn-outline-primary:hover {
			background: #667eea !important;
			color: #ffffff !important;
			transform: translateY(-2px) !important;
		}
		
		.btn-outline-info {
			border: 2px solid #4facfe !important;
			color: #4facfe !important;
			background: transparent !important;
			font-size: 13px !important;
			padding: 6px 12px !important;
		}
		
		.btn-outline-info:hover {
			background: #4facfe !important;
			color: #ffffff !important;
		}
		
		.btn-sm {
			font-size: 13px !important;
			padding: 6px 12px !important;
		}
		
		.btn-block {
			width: 100% !important;
			display: block !important;
		}
		
		/* 테이블 스타일 */
		.table {
			background: #ffffff !important;
			border-radius: 12px !important;
			overflow: hidden !important;
			box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04) !important;
			border: 1px solid rgba(0, 0, 0, 0.05) !important;
		}
		
		.table thead {
			background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
		}
		
		.table thead th {
			font-size: 13px !important;
			font-weight: 600 !important;
			color: #4a5568 !important;
			text-transform: uppercase !important;
			letter-spacing: 0.5px !important;
			padding: 16px 20px !important;
			border: none !important;
		}
		
		.table tbody tr {
			transition: all 0.2s ease !important;
			border-bottom: 1px solid rgba(0, 0, 0, 0.04) !important;
		}
		
		.table tbody tr:hover {
			background: rgba(102, 126, 234, 0.03) !important;
			transform: scale(1.005) !important;
		}
		
		.table tbody tr:last-child {
			border-bottom: none !important;
		}
		
		.table tbody td {
			padding: 16px 20px !important;
			font-size: 14px !important;
			color: #4a5568 !important;
			vertical-align: middle !important;
			border: none !important;
		}
		
		.table tbody td a {
			color: #667eea !important;
			font-weight: 600 !important;
			text-decoration: none !important;
			transition: all 0.2s ease !important;
		}
		
		.table tbody td a:hover {
			color: #764ba2 !important;
			text-decoration: underline !important;
		}
		
		.table tbody td select {
			border: 1px solid rgba(102, 126, 234, 0.2) !important;
			border-radius: 6px !important;
			padding: 6px 10px !important;
			font-size: 13px !important;
			transition: all 0.3s ease !important;
			background: #ffffff !important;
		}
		
		.table tbody td select:focus {
			border-color: #667eea !important;
			box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1) !important;
			outline: none !important;
		}
		
		.table tbody td button {
			margin-left: 8px !important;
		}
		
		.table-bordered {
			border: none !important;
		}
		
		.table-bordered thead th,
		.table-bordered thead td {
			border: none !important;
		}
		
		/* 페이징 스타일 */
		.pagination {
			margin: 20px 0 !important;
			justify-content: center !important;
		}
		
		.page-item {
			margin: 0 4px !important;
		}
		
		.page-link {
			border: 2px solid rgba(102, 126, 234, 0.2) !important;
			color: #667eea !important;
			border-radius: 8px !important;
			padding: 8px 14px !important;
			font-weight: 500 !important;
			transition: all 0.3s ease !important;
			background: #ffffff !important;
		}
		
		.page-link:hover {
			background: #667eea !important;
			color: #ffffff !important;
			border-color: #667eea !important;
			transform: translateY(-2px) !important;
		}
		
		.page-item.active .page-link {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
			border-color: #667eea !important;
			color: #ffffff !important;
			box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3) !important;
		}
		
		/* 간격 조정 */
		.row {
			margin-bottom: 16px !important;
		}
		
		.mt-1 {
			margin-top: 12px !important;
		}
		
		.mt-2 {
			margin-top: 16px !important;
		}
		
		.mt-3 {
			margin-top: 20px !important;
		}
		
		.mt-4 {
			margin-top: 24px !important;
		}
		
		.mt-5 {
			margin-top: 32px !important;
		}
		
		/* 카드 푸터 스타일 */
		.card-footer {
			background: transparent !important;
			border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
			padding: 20px !important;
		}
		
		/* 텍스트 센터 정렬 */
		.text-center {
			text-align: center !important;
		}
		
		/* 애니메이션 */
		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		/* 라벨 스타일 */
		.row .col-2 {
			font-weight: 600 !important;
			color: #4a5568 !important;
			display: flex !important;
			align-items: center !important;
			font-size: 14px !important;
		}
	</style>
	
	
	</th:block>
	
	
	<th:block layout:fragment="content">
	      
	  <div class="container mt-5">
		<div class="row">
			<div class="col">
				<div class="card card-primary">
					<div class="card-header">
					  <h3 class="card-title">주문 목록</h3>
					</div>
					<!-- /.card-header -->
					<!-- list start -->
					<div class="card-body">
						<!-- search form start -->
					<form action="/admin/order/order_list" method="get">
					 <div class="row">
					 	<div class="col-2">검색</div>	
						<div class="col-3">												
							<select name="searchType" class="form-control">
								<option value="" th:selected="${''} == ${pageMaker.cri.searchType}">검색종류 선택</option>
								<option value="c" th:selected="${'c'} == ${pageMaker.cri.searchType}">주문번호</option>
								<option value="m" th:selected="${'m'} == ${pageMaker.cri.searchType}">회원아이디</option>
								<option value="o" th:selected="${'o'} == ${pageMaker.cri.searchType}">주문자명</option>
								<option value="p" th:selected="${'p'} == ${pageMaker.cri.searchType}">입금자명</option>								
							</select>								
						</div>					
						<div class="col-7">
							<input type="text" name="keyword" class="form-control" th:value="${pageMaker.cri.keyword}" placeholder="검색어를 입력하세요.">
						</div>
					 </div>											
				
				<div class="row mt-3">
					<div class="col-2">날짜</div>
					<div class="col-2">
						<div class="form-group">
							<select class="form-control" name="period">
								<option value="ord_regdate" th:selected="${'ord_regdate'} == ${ord_regdate}">주문일</option>
								<option value="payment_date" th:selected="${'payment_date'} == ${payment_date}">입금완료일</option>	
							</select>							
						</div>
					</div>
					<div class="col-3">
						<input type="date" name="start_date" id="start_date" style="width: auto;" th:value="${start_date}">
						<input type="date" name="end_date" id="end_date" style="width: auto;" th:value="${end_date}">
					</div>
					<div class="col-5">
						<button type="button" class="btn btn-sm btn-outline-info" onclick="setDateRange('today')">오늘</button>
						<button type="button" class="btn btn-sm btn-outline-info" onclick="setDateRange('3days')">3일간</button>
						<button type="button" class="btn btn-sm btn-outline-info" onclick="setDateRange('week')">일주일</button>
						<button type="button" class="btn btn-sm btn-outline-info" onclick="setDateRange('month')">1개월</button>
						<button type="button" class="btn btn-sm btn-outline-info" onclick="setDateRange('3months')">3개월</button>
						<button type="button" class="btn btn-sm btn-outline-info" onclick="setDateRange('all')">전체</button>
					</div>
				</div>
				<div class="row mt-1">
					<div class="col-2">결제방법</div>
					<div class="col-10">
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="payment_method" value="" th:checked="${''} == ${payment_method}">
							<label class="form-check-label" for="inlineRadio1">전체</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="payment_method" value="무통장" th:checked="${'무통장'} == ${payment_method}">
							<label class="form-check-label" for="inlineRadio2">무통장</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="payment_method" value="계좌이체" th:checked="${'계좌이체'} == ${payment_method}">
							<label class="form-check-label" for="inlineRadio3">계좌이체</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="payment_method" value="신용카드" th:checked="${'신용카드'} == ${payment_method}">
							<label class="form-check-label" for="inlineRadio1">신용카드</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="payment_method" value="KakaoPay" th:checked="${'카카오페이'} == ${payment_method}">
							<label class="form-check-label" for="inlineRadio2">카카오페이</label>
						</div>
					</div>
				</div>
				<div class="row mt-3">
					<div class="col-2">주문상태</div>
					<div class="col-10">
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="" checked th:checked="${''} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio1">전체</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="입금미납" th:checked="${'입금미납'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio2">입금미납</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="입금완료" th:checked="${'입금완료'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio3">입금완료</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="배송준비" th:checked="${'배송준비'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio1">배송준비</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="배송중" th:checked="${'배송중'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio2">배송중</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="배송완료" th:checked="${'배송완료'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio1">배송완료</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="취소" th:checked="${'취소'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio2">취소</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="환불" th:checked="${'환불'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio3">환불</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="환불" th:checked="${'환불'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio1">반품</label>
						</div>
						<div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ord_status" value="교환" th:checked="${'교환'} == ${ord_status}">
							<label class="form-check-label" for="inlineRadio2">교환</label>
						</div>
					</div>
				</div>
				<div class="row mt-3">
					<div class="col text-center">
						<button type="submit" class="btn btn-primary">검색</button>
						<button type="button" class="btn btn-outline-primary" id="btn_search_init">초기화</button>
					</div>
				</div>
			</form>	
				<div class="row mt-4">
					<div class="col">
					 <form name="frm_pro_list" id="frm_pro_list" method="post" action="/admin/product/pro_sel_delete_2">
						<table class="table table-bordered">
						  <thead>
							<tr>
							  <th style="width: 10%;">주문날짜</th>
							  <th style="width: 10%;">주문번호</th>
							  <th style="width: 40%;">주문자</th>
							  <th style="width: 10%">주문금액</th>
							  <th style="width: 10%">결제방법</th>
							  <th style="width: 10%">주문상태</th>
							  <th style="width: 10%">관리</th>
							</tr>
						  </thead>
						  <tbody>
							<tr th:each= "order_info:${order_list}">
							  <td><!-- vo,dto 를 결과로 사용할 때는 dates, map으로 결과를 사용 할때는  temporals -->
								[[${#temporals.format(order_info.ord_regdate, 'yyyy-MM-dd')}]]
							  </td>
							  <td>	
								<a th:href= "@{/admin/order/orderdetail_info(ord_code=${order_info.ord_code})}">[[${order_info.ord_code}]]</a>
							  </td>
							  <td>[[${order_info.ord_name}]]</td>
							  <td>[[${#numbers.formatInteger(order_info.ord_price, 3, 'COMMA') + '원'}]]</td>
							  <td>[[${order_info.payment_method}]]</td>
							  <td>
								<select name="ord_status">
									<option th:selected= "${order_info.ord_status == '입금미납'}">입금미납</option>
									<option th:selected= "${order_info.ord_status == '입금완료'}">입금완료</option>
									<option th:selected= "${order_info.ord_status == '배송준비'}">배송준비</option>
									<option th:selected= "${order_info.ord_status == '배송중'}">배송중</option>
									<option th:selected= "${order_info.ord_status == '배송완료'}">배송완료</option>
									<option th:selected= "${order_info.ord_status == '주문취소'}">주문취소</option>
									<option th:selected= "${order_info.ord_status == '환불'}">환불</option>
									<option th:selected= "${order_info.ord_status == '반품'}">반품</option>
									<option th:selected= "${order_info.ord_status == '교환'}">교환</option>
								</select>
								<button type="button" name="btn_ord_status_change" th:data-ord_code="${order_info.ord_code}">변경</button>
							  </td>
							  <td>
								<button type="button" class="btn btn-block btn-sm btn-outline-primary" th:data-ord_code="${order_info.ord_code}" name="btn_ord_detail">상세보기</button>								
							  </td>
							</tr>
							
						  </tbody>
						</table>
					</form>
					<!-- 주문목록의 모든 검색정보 : 페이지번호 클릭할 때, 현재 목록상태를 작업(수정,삭제)을 하고 돌아왔을 때 유지. -->
					<form id="criteriaForm" action="/admin/order/order_list" method="get">
						<!-- 4개은 페이징,검색파라미터 -->
						<!-- cri객체의 필드: int page, int perPageNum, String searchType,String keyword -->
						<input type="hidden" name="page" th:value="${cri.page}">
						<input type="hidden" name="perPageNum" th:value="${cri.perPageNum}">
						<input type="hidden" name="searchType" th:value="${cri.searchType}">
						<input type="hidden" name="keyword" th:value="${cri.keyword}">

						<!-- 날짜 검색 파라미터 -->
						 <input type="hidden" name="period" th:value="${period}">
						 <input type="hidden" name="start_date" th:value="${start_date}">
						 <input type="hidden" name="" th:value="${end_date}">

						 <!-- 결제방법 파라미터-->
						  <input type="hidden" name="payment_method" th:value="${payment_method}">

						 <!-- 주문상태 파라미터 --> 
						  <input type="hidden" name="ord_status" th:value="${ord_status}">

						
					</form>
				</div>
				</div>	 
			</div>

					<div class="card-footer clearfix">
						<nav aria-label="Page navigation example">
							<ul class="pagination">
							<!-- 이전표시여부 Previous  pageMaker.getPrev() -->
							<th:block th:if="${pageMaker.prev}">
								<li class="page-item"><a class="page-link movepage" th:href="${pageMaker.startPage - 1}">Previous</a></li>
							</th:block>
								<!--  페이지번호 출력.  1  2  3  4  5 -->
								<th:block th:each="num : ${#numbers.sequence(pageMaker.startPage, pageMaker.endPage)}">
								<li class="page-item" th:classappend="${pageMaker.cri.page == num ? 'active' : ''}">
									<a class="page-link movepage" th:href="${num}" th:text="${num}"></a>
								</li>        
								</th:block>
							
							<!--  다음표시여부 Next -->
							<th:block th:if="${pageMaker.next}">
								<li class="page-item"><a class="page-link movepage" th:href="${pageMaker.endPage + 1}">Next</a></li>
							</th:block>
							</ul>
						</nav>
					</div>
				 </div>
			</div>
		</div>
	  </div>
	<script>
		

	</script>
	    
	</th:block>

	<th:block layout:fragment="script2">
	<script>

		$(document).ready(function() {
			let criteriaForm = $("#criteriaForm");

			// 페이지번호
			$("a.movepage").on("click", function(e) {
				e.preventDefault();
				criteriaForm.find("input[name='page']").val($(this).attr("href"));

				criteriaForm.submit();
			});
			
			// 주문상태변경버튼
			$("button[name='btn_ord_status_change']").on("click", function() {
				let ord_code = $(this).data("ord_code");
				let ord_status = $(this).prev("select[name='ord_status']").val();

				$.ajax({
					url : '/admin/order/order_status_change',
					data: {ord_code : ord_code, ord_status : ord_status},
					type: 'post',
					dataType: 'text',
					success: function(result) {
						if(result == "success") {
							alert("주문상태가 변경되었습니다.")
						}
					}
				});
			});

			// 상세보기버튼
			$("button[name='btn_ord_detail']").on("click", function() {
				let ord_code = $(this).data("ord_code")
				location.href = `/admin/order/orderdetail_info?ord_code=${ord_code}`;
			})

		});

		// 초기화버튼
		document.getElementById('btn_search_init').addEventListener('click', () => {
			initializeSearchForm();
		});
</script>
</th:block>

</html>